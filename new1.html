<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>test</title>
<style>
    table,th,td{
        font-size: 12px;
        border:1px solid black;
        border-collapse: collapse;
        padding: 2px;
    }
</style>
</head>
<body>
    <button onclick="aatest()">点击</button><br>
    <button onclick="test2()">测试</button>
    <p id="ptext">a</p>
    <table class="ta">
        <tr><th>&nbsp;</th><th>星期天</th><th>星期一</th><th>星期二</th><th>星期三</th><th>星期四</th><th>星期五</th><th>星期六</th></tr>
        <tr><td>第一大节</td><td id="60">1</td><td id="00">1</td><td id="10">1</td><td id="20">1</td><td id="30">1</td><td id="40">1</td><td id="50">1</td></tr>
        <tr><td>第二大节</td><td id="61">1</td><td id="01">1</td><td id="11">1</td><td id="21">1</td><td id="31">1</td><td id="41">1</td><td id="51">1</td></tr>
        <tr><td>第三大节</td><td id="62">1</td><td id="02">1</td><td id="12">1</td><td id="22">1</td><td id="32">1</td><td id="42">1</td><td id="52">1</td></tr>
        <tr><td>第四大节</td><td id="63">1</td><td id="03">1</td><td id="13">1</td><td id="23">1</td><td id="33">1</td><td id="43">1</td><td id="53">1</td></tr>
        <tr><td>第五大节</td><td id="64">1</td><td id="04">1</td><td id="14">1</td><td id="24">1</td><td id="34">1</td><td id="44">1</td><td id="54">1</td></tr>
        <tr><td>第六大节</td><td id="65">1</td><td id="05">1</td><td id="15">1</td><td id="25">1</td><td id="35">1</td><td id="45">1</td><td id="55">1</td></tr>
    </table>
<script>




    function test(){
        var str = '{"kcmc":"毛泽东思想和中国特色社会主义理论体系概论(1)","kcbh":"1400041","jxbmc":"150301,150803,150805","kcrwdm":"1028845","jcdm2":"05,06","zcs":"1,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2","xq":"4","jxcdmcs":"北主楼1104","teaxms":"黄文保"}';
        var obj = JSON.parse(str);
        console.log(typeof(obj.jcdm2));
        console.info(obj.jcdm2.length);
        console.log(obj.jcdm2);
    }

    function test2() {
        var i = 6+""+0;
        document.getElementById(i).innerHTML = "星期天 第一大节";
    }
    function test3() {
        status();
        document.getElementById("ptext").innerHTML = ip;
    }

    function aatest(){
        var str = '[{"kcmc":"形势与政策(4)","kcbh":"1400064","jxbmc":"150203,150204,150201,150202,150807,150808,150810,150801,150802,150803,150805,150806,150804","kcrwdm":"1028730","jcdm2":"07,08","zcs":"9","xq":"4","jxcdmcs":"吕志和礼堂","teaxms":"陈新田"},{"kcmc":"毛泽东思想和中国特色社会主义理论体系概论(1)","kcbh":"1400041","jxbmc":"150301,150803,150805","kcrwdm":"1028845","jcdm2":"05,06","zcs":"1,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2","xq":"4","jxcdmcs":"北主楼1104","teaxms":"黄文保"},{"kcmc":"网络安全技术","kcbh":"0800830","jxbmc":"150805,150806","kcrwdm":"1029391","jcdm2":"01,02","zcs":"5,2,4,9,11,3,1,16,15,14,7,13,12,10,8,6","xq":"1","jxcdmcs":"北主楼601","teaxms":"刘耀宗"},{"kcmc":"数据结构课程设计","kcbh":"0800560","jxbmc":"150805","kcrwdm":"1029414","jcdm2":"07,08","zcs":"1,7,6,8,5,4,3,2","xq":"5","jxcdmcs":"综合实验大楼213","teaxms":"金旺春"},{"kcmc":"Web开发技术","kcbh":"0800430","jxbmc":"150803,150805,150806,150804[模块二（网络应用）]","kcrwdm":"1029421","jcdm2":"03,04","zcs":"8,19,12,18,17,16,14,13,11,10,9","xq":"1","jxcdmcs":"北主楼801","teaxms":"司徒伟俊"},{"kcmc":"Web开发技术","kcbh":"0800430","jxbmc":"150803,150805,150806,150804[模块二（网络应用）]","kcrwdm":"1029421","jcdm2":"01,02","zcs":"8,19,15,14,9","xq":"3","jxcdmcs":"北主楼801","teaxms":"司徒伟俊"},{"kcmc":"操作系统","kcbh":"0800630","jxbmc":"150805,150806,150804","kcrwdm":"1029441","jcdm2":"05,06","zcs":"4,19,18,16,15,10,8,7,6,5,3,2,14,13,12,11,1,17,9","xq":"1","jxcdmcs":"北主楼1002","teaxms":"刘佳"},{"kcmc":"计算机网络原理课程设计","kcbh":"0800900","jxbmc":"150805","kcrwdm":"1029484","jcdm2":"09,10,11,12","zcs":"5,8,7,6","xq":"2","jxcdmcs":"黎耀球楼202A","teaxms":"罗杰云"},{"kcmc":"计算机网络原理","kcbh":"0800640","jxbmc":"150805,150806","kcrwdm":"1029571","jcdm2":"03,04","zcs":"8,13,12,17,16,15,14,11,10,9","xq":"3","jxcdmcs":"北主楼803","teaxms":"张先勇"},{"kcmc":"计算机网络原理","kcbh":"0800640","jxbmc":"150805,150806","kcrwdm":"1029571","jcdm2":"01,02","zcs":"9,16,8,17,15,14,13,12,11,10","xq":"5","jxcdmcs":"北主楼703","teaxms":"张先勇"},{"kcmc":"数据库原理","kcbh":"0500610","jxbmc":"150805,150806,150804","kcrwdm":"1029576","jcdm2":"03,04","zcs":"2,7,5,1,12,11,6,4,3,10,9,8","xq":"2","jxcdmcs":"北主楼204","teaxms":"曹彩凤"},{"kcmc":"数据库原理","kcbh":"0500610","jxbmc":"150805,150806,150804","kcrwdm":"1029576","jcdm2":"03,04","zcs":"1,12,2,11,10,3,9","xq":"4","jxcdmcs":"北主楼204","teaxms":"曹彩凤"},{"kcmc":"通信原理","kcbh":"0700320","jxbmc":"150805,150806","kcrwdm":"1029638","jcdm2":"01,02","zcs":"7,15,14,11,9,8,6,16,13,12,10","xq":"2","jxcdmcs":"黄浩川教学楼403","teaxms":"杨芷华"},{"kcmc":"通信原理","kcbh":"0700320","jxbmc":"150805,150806","kcrwdm":"1029638","jcdm2":"01,02","zcs":"7,14,12,11,6,15,13,10,9,8","xq":"4","jxcdmcs":"黄浩川教学楼403","teaxms":"杨芷华"},{"kcmc":"操作系统","kcbh":"0800630","jxbmc":"拆分班级1:150806[46],150805[20]","kcrwdm":"1029441","jcdm2":"07,08","zcs":"10,14,17","xq":"1","jxcdmcs":"综合实验大楼306","teaxms":"刘佳"},{"kcmc":"操作系统","kcbh":"0800630","jxbmc":"拆分班级1:150806[46],150805[20]","kcrwdm":"1029441","jcdm2":"09,10,11,12","zcs":"19","xq":"1","jxcdmcs":"综合实验大楼306","teaxms":"刘佳"},{"kcmc":"操作系统","kcbh":"0800630","jxbmc":"拆分班级2:150804[51],150805[18]","kcrwdm":"1029441","jcdm2":"07,08","zcs":"14,10,17","xq":"4","jxcdmcs":"综合实验大楼308","teaxms":"刘佳"},{"kcmc":"操作系统","kcbh":"0800630","jxbmc":"拆分班级2:150804[51],150805[18]","kcrwdm":"1029441","jcdm2":"05,06,07,08","zcs":"19","xq":"4","jxcdmcs":"综合实验大楼302","teaxms":"刘佳"},{"kcmc":"网络安全技术","kcbh":"0800830","jxbmc":"拆分班级1:150805[38]","kcrwdm":"1029391","jcdm2":"09,10","zcs":"10,13,14,15,16,9,11,12","xq":"4","jxcdmcs":"黎耀球楼202A","teaxms":"刘耀宗"},{"kcmc":"数据库原理","kcbh":"0500610","jxbmc":"拆分班级1:150805[38]","kcrwdm":"1029576","jcdm2":"01,02","zcs":"7,4,6,5","xq":"5","jxcdmcs":"综合实验大楼302","teaxms":"曹彩凤"},{"kcmc":"数据库原理","kcbh":"0500610","jxbmc":"拆分班级1:150805[38]","kcrwdm":"1029576","jcdm2":"09,10","zcs":"8","xq":"5","jxcdmcs":"综合实验大楼302","teaxms":"曹彩凤"},{"kcmc":"通信原理","kcbh":"0700320","jxbmc":"拆分班级1:150805[38]","kcrwdm":"1029638","jcdm2":"09,10,11","zcs":"14,13","xq":"1","jxcdmcs":"综合实验大楼506","teaxms":"陈宇新"},{"kcmc":"计算机网络原理","kcbh":"0800640","jxbmc":"拆分班级1:150805[38]","kcrwdm":"1029571","jcdm2":"11,12","zcs":"19,18","xq":"3","jxcdmcs":"黎耀球楼202B","teaxms":"张先勇"},{"kcmc":"计算机网络原理","kcbh":"0800640","jxbmc":"拆分班级1:150805[38]","kcrwdm":"1029571","jcdm2":"11,12","zcs":"18,19","xq":"4","jxcdmcs":"黎耀球楼202B","teaxms":"张先勇"},{"kcmc":"Web开发技术","kcbh":"0800430","jxbmc":"拆分班级2:150805[38]","kcrwdm":"1029421","jcdm2":"07,08","zcs":"10,16,11,12,13,15,17,18","xq":"3","jxcdmcs":"综合实验大楼204A","teaxms":"司徒伟俊"},{"kcmc":"Linux操作系统","kcbh":"0800470","jxbmc":"150805,150806","kcrwdm":"1037586","jcdm2":"07,08","zcs":"8,9","xq":"1","jxcdmcs":"黄浩川教学楼502","teaxms":"容振邦"},{"kcmc":"Linux操作系统","kcbh":"0800470","jxbmc":"150805,150806","kcrwdm":"1037586","jcdm2":"05,06","zcs":"6,5,4,3,7","xq":"3","jxcdmcs":"黄浩川教学楼502","teaxms":"容振邦"},{"kcmc":"Linux操作系统","kcbh":"0800470","jxbmc":"150805,150806","kcrwdm":"1037586","jcdm2":"05,06","zcs":"1,2","xq":"5","jxcdmcs":"北主楼602","teaxms":"容振邦"},{"kcmc":"Linux操作系统","kcbh":"0800470","jxbmc":"150805,150806","kcrwdm":"1037586","jcdm2":"07,08","zcs":"10,12,11","xq":"5","jxcdmcs":"北主楼602","teaxms":"容振邦"},{"kcmc":"Linux操作系统","kcbh":"0800470","jxbmc":"拆分班级1:150805[38]","kcrwdm":"1037586","jcdm2":"07,08","zcs":"9,15,16,13,10,11,14,12","xq":"2","jxcdmcs":"黎耀球楼202A","teaxms":"容振邦"}]';
        var str150707 = '[{"kcmc":"EDA技术","kcbh":"0701000","jxbmc":"150711,150707,150714","kcrwdm":"1038610","jcdm2":"01,02","zcs":"5,9,8,7,6","xq":"1","jxcdmcs":"南主楼250","teaxms":"刘战"},{"kcmc":"EDA技术","kcbh":"0701000","jxbmc":"150711,150707,150714","kcrwdm":"1038610","jcdm2":"01,02","zcs":"6,5,9,8,7","xq":"3","jxcdmcs":"南主楼250","teaxms":"刘战"},{"kcmc":"EDA技术","kcbh":"0701000","jxbmc":"150711,150707,150714","kcrwdm":"1038610","jcdm2":"09,10,11","zcs":"6,9,8,7","xq":"5","jxcdmcs":"综合实验大楼608","teaxms":"刘战"},{"kcmc":"SOPC技术","kcbh":"0700390","jxbmc":"150707,150714,150713,170720","kcrwdm":"1038640","jcdm2":"03,04","zcs":"12,16,15,14,13","xq":"1","jxcdmcs":"北主楼701","teaxms":"刘战"},{"kcmc":"SOPC技术","kcbh":"0700390","jxbmc":"150707,150714,150713,170720","kcrwdm":"1038640","jcdm2":"05,06","zcs":"12,16,15,14,13","xq":"3","jxcdmcs":"北主楼701","teaxms":"刘战"},{"kcmc":"大学生职业规划与就业指导(2)","kcbh":"0000042","jxbmc":"150701,150702,150703,150704,150705,150706,150707,150708,150709","kcrwdm":"1038734","jcdm2":"09,10","zcs":"9,11,10","xq":"4","jxcdmcs":"吕志和礼堂","teaxms":"李秀平"},{"kcmc":"光通信器件","kcbh":"0701720","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1038877","jcdm2":"03,04","zcs":"11,18,17,16,15,14,13,12","xq":"2","jxcdmcs":"黄浩川教学楼101","teaxms":"王玉青"},{"kcmc":"光通信器件","kcbh":"0701720","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1038877","jcdm2":"01,02","zcs":"11,18,17,16,15,14,13,12","xq":"5","jxcdmcs":"黄浩川教学楼103","teaxms":"王玉青"},{"kcmc":"数据库语言及应用","kcbh":"0800020","jxbmc":"150708,150707","kcrwdm":"1038993","jcdm2":"01,02","zcs":"10,18,17,16,15,14,13,12,11","xq":"1","jxcdmcs":"黄浩川教学楼403","teaxms":"曹彩凤"},{"kcmc":"数据库语言及应用","kcbh":"0800020","jxbmc":"150708,150707","kcrwdm":"1038993","jcdm2":"05,06","zcs":"9,18,17,16,15,14,13,12,11,10","xq":"4","jxcdmcs":"黄浩川教学楼403","teaxms":"曹彩凤"},{"kcmc":"数字信号处理","kcbh":"0700340","jxbmc":"150707,150714","kcrwdm":"1039016","jcdm2":"05,06","zcs":"8,18,17,16,15,14,13,12,11,10,9","xq":"1","jxcdmcs":"北主楼503","teaxms":"余义斌"},{"kcmc":"数字信号处理","kcbh":"0700340","jxbmc":"150707,150714","kcrwdm":"1039016","jcdm2":"03,04","zcs":"9,17,18,16,15,14,13,12,11,10","xq":"3","jxcdmcs":"北主楼903","teaxms":"余义斌"},{"kcmc":"毛泽东思想和中国特色社会主义理论体系概论(2)","kcbh":"1400042","jxbmc":"150712,150707,150714,150713","kcrwdm":"1039067","jcdm2":"09,10","zcs":"7,14,13,12,11,10,9,8","xq":"2","jxcdmcs":"北主楼901","teaxms":"黄文保"},{"kcmc":"毛泽东思想和中国特色社会主义理论体系概论(2)","kcbh":"1400042","jxbmc":"150712,150707,150714,150713","kcrwdm":"1039067","jcdm2":"07,08","zcs":"7,14,9,13,12,11,10,8","xq":"4","jxcdmcs":"北主楼901","teaxms":"黄文保"},{"kcmc":"现代交换技术","kcbh":"0700990","jxbmc":"150711,150707,150714","kcrwdm":"1039194","jcdm2":"05,06","zcs":"3,4,6,5,2,1,8,7","xq":"3","jxcdmcs":"黄浩川教学楼102","teaxms":"成志东"},{"kcmc":"现代交换技术","kcbh":"0700990","jxbmc":"150711,150707,150714","kcrwdm":"1039194","jcdm2":"05,06","zcs":"3,7,6,2,1,8,5,4","xq":"5","jxcdmcs":"黄浩川教学楼104","teaxms":"成志东"},{"kcmc":"形势与政策(5)","kcbh":"1400065","jxbmc":"150707,150714,150706,150705,150701,150702,150703,150704,150713,150601,150503,150502,150501,150404,150405","kcrwdm":"1039256","jcdm2":"07,08","zcs":"14","xq":"1","jxcdmcs":"吕志和礼堂","teaxms":"王钰"},{"kcmc":"移动通信","kcbh":"0701030","jxbmc":"150707[[模块一（无线通信方向）]],150714[[模块一（无线通信方向）]]","kcrwdm":"1039302","jcdm2":"01,02","zcs":"9,14,13,12,11,10,15,16","xq":"4","jxcdmcs":"黄浩川教学楼101","teaxms":"姜为民"},{"kcmc":"移动通信","kcbh":"0701030","jxbmc":"150707[[模块一（无线通信方向）]],150714[[模块一（无线通信方向）]]","kcrwdm":"1039302","jcdm2":"03,04","zcs":"16,15,14,13,12,11,10,9","xq":"5","jxcdmcs":"黄浩川教学楼101","teaxms":"姜为民"},{"kcmc":"电波与天线","kcbh":"0701040","jxbmc":"150707[[模块一（无线通信方向）]],150714[[模块一（无线通信方向）]]","kcrwdm":"1039348","jcdm2":"03,04","zcs":"1,5,8,7,6,4,3,2","xq":"1","jxcdmcs":"黄浩川教学楼202","teaxms":"张昕"},{"kcmc":"电波与天线","kcbh":"0701040","jxbmc":"150707[[模块一（无线通信方向）]],150714[[模块一（无线通信方向）]]","kcrwdm":"1039348","jcdm2":"03,04","zcs":"2,8,7,6,5,1,4,3","xq":"4","jxcdmcs":"黄浩川教学楼202","teaxms":"张昕"},{"kcmc":"接入网技术","kcbh":"0701130","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039468","jcdm2":"03,04","zcs":"1,8,7,6,4,3,2,5","xq":"2","jxcdmcs":"黄浩川教学楼102","teaxms":"王天雷"},{"kcmc":"接入网技术","kcbh":"0701130","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039468","jcdm2":"05,06","zcs":"1,5,8,7,6,4,3,2","xq":"4","jxcdmcs":"黄浩川教学楼102","teaxms":"王天雷"},{"kcmc":"接入网技术","kcbh":"0701130","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039468","jcdm2":"01,02,03,04","zcs":"6","xq":"6","jxcdmcs":"综合实验大楼611","teaxms":"王天雷"},{"kcmc":"接入网技术","kcbh":"0701130","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039468","jcdm2":"05,06,07,08","zcs":"6","xq":"6","jxcdmcs":"综合实验大楼611","teaxms":"王天雷"},{"kcmc":"通信原理","kcbh":"0700320","jxbmc":"150711,150707,150714","kcrwdm":"1039523","jcdm2":"01,02","zcs":"2,17,15,13,6,5,4,3,1,18,16,14,12,11,10,9,8,7","xq":"2","jxcdmcs":"黄浩川教学楼202","teaxms":"曾军英,陈宇新"},{"kcmc":"通信原理","kcbh":"0700320","jxbmc":"150711,150707,150714","kcrwdm":"1039523","jcdm2":"03,04","zcs":"7,5,4,3,2,1,6,8","xq":"5","jxcdmcs":"黄浩川教学楼202","teaxms":"曾军英"},{"kcmc":"非线性光纤光学原理及应用","kcbh":"0701120","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039565","jcdm2":"05,06","zcs":"1,4,3,2","xq":"1","jxcdmcs":"黄浩川教学楼201","teaxms":"钟东洲"},{"kcmc":"非线性光纤光学原理及应用","kcbh":"0701120","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039565","jcdm2":"07,08","zcs":"6,5,8,7","xq":"1","jxcdmcs":"黄浩川教学楼201","teaxms":"钟东洲"},{"kcmc":"非线性光纤光学原理及应用","kcbh":"0701120","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039565","jcdm2":"03,04","zcs":"1,4,3,2","xq":"3","jxcdmcs":"黄浩川教学楼201","teaxms":"钟东洲"},{"kcmc":"非线性光纤光学原理及应用","kcbh":"0701120","jxbmc":"150707[[模块二（现代光纤通信方向）]],150714[[模块二（现代光纤通信方向）]]","kcrwdm":"1039565","jcdm2":"07,08","zcs":"5,8,7,6","xq":"3","jxcdmcs":"黄浩川教学楼201","teaxms":"钟东洲"},{"kcmc":"现代交换技术","kcbh":"0700990","jxbmc":"拆分班级1:150707[41]","kcrwdm":"1039194","jcdm2":"01,02","zcs":"3","xq":"7","jxcdmcs":"综合实验大楼506","teaxms":"成志东"},{"kcmc":"现代交换技术","kcbh":"0700990","jxbmc":"拆分班级1:150707[41]","kcrwdm":"1039194","jcdm2":"03,04","zcs":"3","xq":"7","jxcdmcs":"综合实验大楼506","teaxms":"成志东"},{"kcmc":"现代交换技术","kcbh":"0700990","jxbmc":"拆分班级1:150707[41]","kcrwdm":"1039194","jcdm2":"05,06","zcs":"3","xq":"7","jxcdmcs":"综合实验大楼506","teaxms":"成志东"},{"kcmc":"现代交换技术","kcbh":"0700990","jxbmc":"拆分班级1:150707[41]","kcrwdm":"1039194","jcdm2":"07,08","zcs":"3","xq":"7","jxcdmcs":"综合实验大楼506","teaxms":"成志东"},{"kcmc":"通信原理","kcbh":"0700320","jxbmc":"150707[43]","kcrwdm":"1039523","jcdm2":"09,10,11","zcs":"9","xq":"3","jxcdmcs":"综合实验大楼506","teaxms":"陈宇新"},{"kcmc":"通信原理","kcbh":"0700320","jxbmc":"150707[43]","kcrwdm":"1039523","jcdm2":"01,02,03","zcs":"12,17,15","xq":"7","jxcdmcs":"综合实验大楼506","teaxms":"陈宇新"},{"kcmc":"数据库语言及应用","kcbh":"0800020","jxbmc":"拆分班级1:150707[43]","kcrwdm":"1038993","jcdm2":"03,04","zcs":"11,14,12,15,13","xq":"4","jxcdmcs":"综合实验大楼213","teaxms":"曹彩凤"},{"kcmc":"数字信号处理","kcbh":"0700340","jxbmc":"拆分班级1:150707[43]","kcrwdm":"1039016","jcdm2":"07,08","zcs":"14","xq":"5","jxcdmcs":"综合实验大楼214","teaxms":"余义斌"},{"kcmc":"数字信号处理","kcbh":"0700340","jxbmc":"拆分班级1:150707[43]","kcrwdm":"1039016","jcdm2":"09,10","zcs":"14","xq":"5","jxcdmcs":"综合实验大楼214","teaxms":"余义斌"},{"kcmc":"数字信号处理","kcbh":"0700340","jxbmc":"拆分班级1:150707[43]","kcrwdm":"1039016","jcdm2":"11,12","zcs":"14","xq":"5","jxcdmcs":"综合实验大楼214","teaxms":"余义斌"},{"kcmc":"SOPC技术","kcbh":"0700390","jxbmc":"拆分班级1:150707[3],150713[43],170720[6]","kcrwdm":"1038640","jcdm2":"09,10,11","zcs":"15,16,13,14","xq":"4","jxcdmcs":"综合实验大楼608","teaxms":"刘战"},{"kcmc":"电波与天线","kcbh":"0701040","jxbmc":"拆分班级1:150707[36]","kcrwdm":"1039348","jcdm2":"01,02,03,04,05,06,07,08","zcs":"8","xq":"6","jxcdmcs":"综合实验大楼612","teaxms":"张昕"}]';
        var str150101 = '[{"kcmc":"形势与政策(4)","kcbh":"1400064","jxbmc":"150401,150402,150406,150404,150405,150403,150107,150108,150105,150106,150115,150103,150104,150101,150102","kcrwdm":"1028966","jcdm2":"09,10","zcs":"6","xq":"5","jxcdmcs":"吕志和礼堂","teaxms":"陈新田"},{"kcmc":"毛泽东思想和中国特色社会主义理论体系概论(2)","kcbh":"1400042","jxbmc":"150103,150101,150102","kcrwdm":"1030443","jcdm2":"01,02","zcs":"9","xq":"4","jxcdmcs":"北主楼704","teaxms":"白文杰"},{"kcmc":"毛泽东思想和中国特色社会主义理论体系概论(2)","kcbh":"1400042","jxbmc":"150103,150101,150102","kcrwdm":"1030443","jcdm2":"03,04","zcs":"15,14,13,1,19,18,17,16","xq":"4","jxcdmcs":"北主楼804","teaxms":"白文杰"},{"kcmc":"毛泽东思想和中国特色社会主义理论体系概论(2)","kcbh":"1400042","jxbmc":"150103,150101,150102","kcrwdm":"1030443","jcdm2":"05,06","zcs":"15,14,13,19,18,17,16","xq":"5","jxcdmcs":"北主楼804","teaxms":"白文杰"},{"kcmc":"国际会计","kcbh":"0101010","jxbmc":"150101,150102","kcrwdm":"1030730","jcdm2":"03,04","zcs":"12,8,7,2,1,17,16,15,14,13,18,4,11,10,9,5,3,6","xq":"1","jxcdmcs":"北主楼502","teaxms":"杨序谨"},{"kcmc":"国际会计","kcbh":"0101010","jxbmc":"150101,150102","kcrwdm":"1030730","jcdm2":"01,02","zcs":"11,7,10,8,9,12","xq":"3","jxcdmcs":"北主楼504","teaxms":"杨序谨"},{"kcmc":"国际贸易法","kcbh":"003E3240","jxbmc":"150101,150102","kcrwdm":"1030753","jcdm2":"05,06","zcs":"2,8,7,3,1,12,11,10,9,6,5,4","xq":"3","jxcdmcs":"北主楼605","teaxms":"吴淑娟"},{"kcmc":"国际贸易法","kcbh":"003E3240","jxbmc":"150101,150102","kcrwdm":"1030753","jcdm2":"03,04","zcs":"5,11,10,8,7,4,3,2,1,12,9,6","xq":"5","jxcdmcs":"北主楼605","teaxms":"吴淑娟"},{"kcmc":"国际商务谈判与礼仪","kcbh":"0100910","jxbmc":"150112,150101,150102","kcrwdm":"1030756","jcdm2":"05,06","zcs":"7,6,5,10,4,15,9,8","xq":"1","jxcdmcs":"北主楼405","teaxms":"姜文仙"},{"kcmc":"国际商务谈判与礼仪","kcbh":"0100910","jxbmc":"150112,150101,150102","kcrwdm":"1030756","jcdm2":"05,06","zcs":"5,6,4,15,14,9,8,7","xq":"4","jxcdmcs":"北主楼301","teaxms":"姜文仙"},{"kcmc":"国际贸易单证实务","kcbh":"0100930","jxbmc":"拆分班级1:150101[49],150112[26]","kcrwdm":"1030748","jcdm2":"01,02,03,04","zcs":"2,7,3,1,9,8,6,4","xq":"6","jxcdmcs":"北主楼1602","teaxms":"张永"},{"kcmc":"国际商务谈判与礼仪","kcbh":"0100910","jxbmc":"拆分班级2:150101[49]","kcrwdm":"1030756","jcdm2":"01,02,03,04","zcs":"14,11","xq":"2","jxcdmcs":"北主楼1610","teaxms":"姜文仙"},{"kcmc":"国际商务谈判与礼仪","kcbh":"0100910","jxbmc":"拆分班级2:150101[49]","kcrwdm":"1030756","jcdm2":"01,02,03,04","zcs":"11","xq":"4","jxcdmcs":"北主楼1610","teaxms":"姜文仙"},{"kcmc":"国际商务谈判与礼仪","kcbh":"0100910","jxbmc":"拆分班级2:150101[49]","kcrwdm":"1030756","jcdm2":"05,06,07,08","zcs":"11","xq":"5","jxcdmcs":"北主楼1610","teaxms":"姜文仙"}]';
		var jsonarr = JSON.parse(str150101);
        jsonarr2table(jsonarr);
    }

    /**
     * @author:viny 
     * @params jsonarr JSON格式的数组[{"":"","":""},{}]
     * @return null 
     * 功能：
     *    把特定的json数组（我们学校的课表）转换成二维数组，然后写到 7x6 的 table 上
     */
    function jsonarr2table(jsonarr){
        var obj = jsonarr[0];
        var table = new Array(7);
        for (let i = 0; i < table.length; i++) {
            table[i] = ["","","","","",""];
        }
        var xqs = 0;//
        var jcs = 0;//节次
        for (let index = 0; index < jsonarr.length; index++) {
            obj = jsonarr[index];
            jcs = parseInt(obj.jcdm2)
            jcs = (jcs+1)/2;
            xqs = parseInt(obj.xq);

            table[xqs-1][jcs-1] += transforms(obj);
            if(obj.jcdm2.length==11){//长度等于5(01,02)或者等于11(01,02,03,04)两节连上
                table[xqs-1][jcs] += transforms(obj);  
            }
        }
        //displayArr(table);
        arr2Table(table);
    }

    function displayArr(arr) {
        for (let index = 0; index < 5; index++) {
            console.info("\n------------------星期"+(index+1));
            for (let j = 0; j < 6; j++) {
                console.info("++++++++++++++第"+(j+1)+"节");
                console.info(arr[index][j]);
            }
        }
    }
    function arr2Table(arr) {
        var id = "";
        for (let index = 0; index < 7; index++) {
            //console.info("\n------------------星期"+(index+1));
            for (let j = 0; j < 6; j++) {
                //console.info("++++++++++++++第"+(j+1)+"节");
                id = index+""+j;
                document.getElementById(id).innerHTML = (arr[index][j]==null||arr[index][j]=="")?"&nbsp;":arr[index][j];
                //console.info(arr[index][j]+":"+(arr[index][j]==null||arr[index][j]==""));
            }
        }
    }

    /**
     * author:viny
     * prams:kcobj 课程对象
     * return: 
     *      返回符合格式的课程字符串
     */
    function transforms(kcobj){
        var oldarr = kcobj.zcs.split(",");//对象提取字符串 转数组

        oldarr.sort(function(a,b){return a-b});//数字升序
        var zcs = "";
        var arr = new Array;
        for (let index = 0; index < oldarr.length; index++) {
            if(index==0){//记录第一个数
                var i = 0;
                arr[i] = oldarr[0]+"";
                var temp = oldarr[0];
            }else if(index<(oldarr.length-1)){
                zcs = oldarr[index];
                if((zcs - temp)!=1){ //如果相邻两个数只差不为 1 ，记录周段，是接收数组加一 ，存储下一个周段
                    if(arr[i]!=temp){//如果两数相等 则不需要 “~” 分隔
                        arr[i] = arr[i]+"~"+temp;
                    }
                    i++;
                    arr[i] = zcs+"";
                }
                temp = zcs;
            }else{//记录最后一个数
                zcs = oldarr[index];
                if((zcs-temp)==1){
                    arr[i] = arr[i]+"~"+zcs;
                }else{
                    if(arr[i]!=temp){//如果两数相等 则不需要 “~” 分隔
                        arr[i] = arr[i]+"~"+temp;
                    }
                    i++;
                    arr[i] = zcs+"";
                }
            }
            //console.log(oldarr[index]); //循环数组内容
        }
        return kcobj.kcmc+"<br>第"+arr.toString()+"周<br>"+kcobj.jxcdmcs+"  "+kcobj.teaxms+"<br>";
    }
</script>
</body>
</html>